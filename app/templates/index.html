<!-- app/templates/index.html -->
{% extends "base.html" %}

{% block title %}Grocy - Home{% endblock %}

{% block content %}
<h2>Fuzzy Search Items</h2>
<form id="search-form">
    <input type="text" id="search-query" placeholder="Search for items..." required>
    <button type="submit">Search</button>
</form>

<div id="search-results"></div>

<h2>Scrape Price Data</h2>
<a href="{{ url_for('main.scrape') }}">Scrape Price Data from Maxima</a>

<script>
document.getElementById('search-form').addEventListener('submit', function(event) {
    event.preventDefault();
    const query = document.getElementById('search-query').value;
    fetch(`{{ url_for('main.search') }}?query=${query}`)
        .then(response => response.text())
        .then(data => {
            document.getElementById('search-results').innerHTML = data;
        });
});
</script>
{% endblock %}